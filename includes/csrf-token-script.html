<!-- CSRF Token Generator for HTML Form -->
<script>
// Generate CSRF token on page load
(function() {
	// Check if we need to generate a new token
	fetch('get-csrf-token.php')
		.then(response => response.json())
		.then(data => {
			if (data.token) {
				// Create hidden input if not exists
				const form = document.getElementById('contactForm');
				if (form) {
					let tokenInput = form.querySelector('input[name="csrf_token"]');
					if (!tokenInput) {
						tokenInput = document.createElement('input');
						tokenInput.type = 'hidden';
						tokenInput.name = 'csrf_token';
						form.insertBefore(tokenInput, form.firstChild);
					}
					tokenInput.value = data.token;
				}
			}
		})
		.catch(error => console.error('CSRF token error:', error));
})();
</script>
